<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>50+ Mobiel tools</title>
  <style>
    :root{
      --bg:#f5f7fb;
      --card:#ffffff;
      --accent:#F59C27;
      --muted:#6b7280;
      --success:#059669;
      --shadow: 0 8px 24px rgba(16,24,40,0.06);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color-scheme: light;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      background:linear-gradient(180deg, #f8fbff 0%, var(--bg) 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:2rem;
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    .container{
      width:100%;
      max-width:920px;
    }
    header{
      display:flex;
      align-items:center;
      gap:1rem;
      margin-bottom:1rem;
    }
    .brand{
      display:flex;
      gap:.75rem;
      align-items:center;
    }
    .logo{
      width:44px;height:44px;border-radius:.6rem;background:linear-gradient(135deg,var(--accent),#7db5ff);
      display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:1.05rem;
      box-shadow:var(--shadow);
    }
    h1{font-size:1.25rem;margin:0}
    p.lead{margin:.25rem 0 0;color:var(--muted);font-size:.95rem}

    .card{
      background:var(--card);
      border-radius:.8rem;
      padding:1.15rem;
      box-shadow:var(--shadow);
    }

    .grid{
      display:grid;
      gap:1rem;
      grid-template-columns:1fr;
      margin-top:1rem;
    }

    .row{
      display:flex;
      gap:1rem;
      align-items:center;
    }

    label{
      font-size:.9rem;
      color:#0f172a;
      display:block;
      margin-bottom:.35rem;
    }

    .field{
      display:flex;
      flex-direction:column;
      width:100%;
    }

    input[type="date"],
    input[type="number"],
    .control{
      padding:.55rem .7rem;
      border:1px solid #e6edf3;
      border-radius:.5rem;
      background:transparent;
      font:inherit;
      color:inherit;
      outline:none;
    }

    .controls{
      display:flex;
      gap:.5rem;
      align-items:center;
      margin-top:.4rem;
    }

    .btn{
      background:var(--accent);
      color:white;
      border:none;
      padding:.55rem .8rem;
      border-radius:.5rem;
      cursor:pointer;
      font-weight:600;
    }

    .btn.secondary{
      background:#f3f4f6;
      color:#0f172a;
      border:1px solid #e6edf3;
    }

    .toggle{
      display:inline-flex;
      gap:.5rem;
      align-items:center;
      background:#f8fafc;
      padding:.35rem;
      border-radius:.5rem;
      border:1px solid #f1f5f9;
    }

    .result{
      display:flex;
      gap:.6rem;
      align-items:center;
      justify-content:space-between;
      padding:.8rem;
      border-radius:.55rem;
      background:linear-gradient(180deg,#ffffff, #fbfdff);
      border:1px solid #eef2ff;
    }

    .result .info{
      display:flex;
      flex-direction:column;
      gap:.15rem;
    }

    .muted{color:var(--muted);font-size:.9rem}
    .big{font-weight:700;font-size:1.05rem}

    .small{
      font-size:.85rem;color:var(--muted);
    }

    .copy{
      background:transparent;
      border:1px solid #e6edf3;
      padding:.45rem .6rem;
      border-radius:.45rem;
      cursor:pointer;
      display:inline-flex;
      gap:.45rem;
      align-items:center;
      font-size:.9rem;
    }

    .footer{
      margin-top:.9rem;
      display:flex;
      gap:1rem;
      align-items:center;
      justify-content:space-between;
      color:var(--muted);
      font-size:.9rem;
    }

    @media(min-width:820px){
      .grid{
        grid-template-columns: 1fr 360px;
      }
      .row{flex-wrap:nowrap}
    }

    /* small helpers */
    .chip{
      background:#f1f5f9;padding:.35rem .5rem;border-radius:999px;font-size:.85rem;color:var(--muted);
    }
    .notice{
      font-size:.88rem;color:var(--muted);
    }

  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden>50+</div>
        <div>
          <h1>Datum Rekenmachine</h1>
          <p class="lead">datum gerelateerde tools</p>
        </div>
      </div>
    </header>

    <main class="card" role="main" aria-labelledby="appTitle">
      <h2 id="appTitle" style="margin:0 0 .6rem 0;">Datum</h2>

      
        <section>
          <div class="field" style="margin-bottom:.6rem;">
            <label for="baseDate">Datum</label>
            <input id="baseDate" type="date" class="control" aria-describedby="baseDateHint">
          </div>

          
      
          <div style="display:flex;gap:.6rem;align-items:center;margin-bottom:.6rem;">
            <button id="computeBtn" class="btn" aria-controls="resultArea">Bereken</button>
            <button id="resetBtn" class="btn secondary" title="Reset naar standaardwaardes">Vandaag</button>
          </div>
        </section>

    <div class="grid">
        <div style="display:flex;flex-direction:column;gap:.6rem;">
          <div class="result" aria-live="polite" id="resultArea">
            <div class="info">
              <div style="margin-bottom:.6rem;">
                <div>
                  <label for="days">Aantal dagen</label>
                  <input id="days" type="number" class="control" min="0" step="1" inputmode="numeric">
                </div>
                <div>
                  <div class="toggle" role="radiogroup" aria-label="Kies optellen of aftrekken">
                    <label style="display:inline-flex;align-items:center;gap:.4rem;">
                      <input type="radio" name="mode" value="subtract" id="modeSubtract">
                      <span class="small">Aftrekken</span>
                    </label>
                    <label style="display:inline-flex;align-items:center;gap:.4rem;">
                      <input type="radio" name="mode" value="add" id="modeAdd">
                      <span class="small">Optellen</span>
                    </label>
                  </div>
                </div>
              </div>
              <div id="resultHuman" class="big">—</div>
              <div id="resultIso" class="small muted">—</div>
            </div>


            <div class="result" aria-live="polite">
              <div class="info">
                <div class="muted">Klanten vanaf deze datum zijn in hun herroepingsperiode</div>
                <div id="minus14Human" class="big">—</div>
                <div id="minus14Iso" class="small muted">—</div>
              </div>
            </div>
          </div>
        </aside>
      </div>

      <div class="footer">
        <div>2026</div>
        <div class="muted">Michael Kooltjes</div>
      </div>
    </main>
  </div>

  <script>
    // Helper: format date to YYYY-MM-DD (no timezone shift)
    function toInputDateString(d){
      const y = d.getFullYear();
      const m = String(d.getMonth()+1).padStart(2,'0');
      const day = String(d.getDate()).padStart(2,'0');
      return `${y}-${m}-${day}`;
    }
    // Human readable format in Dutch
    const humanFormatter = new Intl.DateTimeFormat('nl-NL', { weekday: 'short', day: '2-digit', month: 'short', year: 'numeric' });

    function parseInputDate(value){
      // value expected "YYYY-MM-DD"
      if(!value) return null;
      const parts = value.split('-');
      if(parts.length !== 3) return null;
      const y = parseInt(parts[0],10);
      const m = parseInt(parts[1],10)-1;
      const d = parseInt(parts[2],10);
      return new Date(y, m, d);
    }

    function addDays(date, days){
      const r = new Date(date.getTime());
      r.setDate(r.getDate() + days);
      return r;
    }

    // Elements
    const baseDateEl = document.getElementById('baseDate');
    const baseDateEl = document.getElementById('baseDate');
    const daysEl = document.getElementById('days');
    const modeAddEl = document.getElementById('modeAdd');
    const modeSubtractEl = document.getElementById('modeSubtract');
    const computeBtn = document.getElementById('computeBtn');
    const resetBtn = document.getElementById('resetBtn');

    const resultHuman = document.getElementById('resultHuman');
    const resultIso = document.getElementById('resultIso');
    const minus14Human = document.getElementById('minus14Human');
    const minus14Iso = document.getElementById('minus14Iso');

    // Defaults
    const DEFAULT_DAYS = 120;
    const DEFAULT_MODE = 'subtract';

    function setDefaults(){
      const today = new Date();
      baseDateEl.value = toInputDateString(today);
      daysEl.value = DEFAULT_DAYS;
      if(DEFAULT_MODE === 'subtract'){
        modeSubtractEl.checked = true;
      } else {
        modeAddEl.checked = true;
      }
      updateAll();
    }

    function updateAll(){
      const base = parseInputDate(baseDateEl.value);
      if(!base){
        resultHuman.textContent = 'Ongeldige datum';
        resultIso.textContent = '—';
        minus14Human.textContent = '—';
        minus14Iso.textContent = '—';
        return;
      }

      // 14 dagen geleden tov basisdatum
      const today = new Date();
      const minus14 = addDays(toInputDateString(today), -14);
      minus14Human.textContent = humanFormatter.format(minus14);
      minus14Iso.textContent = toInputDateString(minus14);

      // compute result
      let n = parseInt(daysEl.value, 10);
      if(Number.isNaN(n) || n < 0) n = 0; // safety
      const mode = document.querySelector('input[name="mode"]:checked') ? document.querySelector('input[name="mode"]:checked').value : DEFAULT_MODE;
      const delta = (mode === 'add') ? n : -n;
      const result = addDays(base, delta);

      resultHuman.textContent = humanFormatter.format(result);
      resultIso.textContent = toInputDateString(result);
    }

    // Event listeners
    computeBtn.addEventListener('click', function(){
      updateAll();
      // focus result for keyboard users
      resultHuman.focus?.();
    });

    // Live updates on change for convenience
    [baseDateEl, daysEl].forEach(el => {
      el.addEventListener('change', updateAll);
      el.addEventListener('input', () => {
        // don't spam if user types, but update live for responsiveness
        updateAll();
      });
    });
    document.querySelectorAll('input[name="mode"]').forEach(r => r.addEventListener('change', updateAll));

    resetBtn.addEventListener('click', function(){
      setDefaults();
      // small visual feedback
      copiedBadge.style.display = 'none';
    });

    // Initialize on load
    document.addEventListener('DOMContentLoaded', setDefaults);
  </script>
</body>
</html>
